@model IEnumerable<ShopWeb.Models.Category>

@{
    ViewData["Title"] = "Categories";
}

@section Styles {
    <link rel="stylesheet" href="~/css/admin-tables.css" />
}

<div class="admin-page-header" style="background: linear-gradient(135deg, #1a0a2e 0%, #0f051d 100%); padding: 32px; border-radius: 16px; margin-bottom: 32px; border: 1px solid #2a1a4e;">
    <div>
        <h1 class="admin-page-title" style="font-size: 32px; font-weight: 700; background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px;">
            <i class="fas fa-tags"></i> Categories Management
        </h1>
        <p class="admin-page-subtitle" style="font-size: 16px; color: #a0a0a0;">Manage product categories and classifications</p>
    </div>
    <a asp-action="Create" class="admin-btn" style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); color: #fff; padding: 14px 28px; border-radius: 12px; border: none; font-weight: 600; box-shadow: 0 4px 20px rgba(16, 185, 129, 0.4);">
        <i class="fas fa-plus-circle"></i> New Category
    </a>
</div>

@if (TempData["Success"] != null)
{
    <div class="admin-alert-box admin-alert-success">
        <i class="fas fa-check-circle admin-alert-icon"></i>
        <div class="admin-alert-content">
            <p class="admin-alert-text">@TempData["Success"]</p>
        </div>
    </div>
}

@if (TempData["Error"] != null)
{
    <div class="admin-alert-box admin-alert-danger">
        <i class="fas fa-exclamation-circle admin-alert-icon"></i>
        <div class="admin-alert-content">
            <p class="admin-alert-text">@TempData["Error"]</p>
        </div>
    </div>
}

<div class="admin-table-container">
    <table class="admin-main-table">
        <thead>
            <tr>
                <th style="width: 80px; padding-left: 20px;"><i class="fas fa-hashtag"></i> ID</th>
                <th style="width: 100px; padding-left: 20px;"><i class="fas fa-icons"></i> Icon</th>
                <th style="padding-left: 20px;"><i class="fas fa-tag"></i> Name</th>
                <th style="padding-left: 20px;"><i class="fas fa-align-left"></i> Description</th>
                <th style="width: 120px; text-align: center;"><i class="fas fa-box"></i> Products</th>
                <th style="width: 200px; text-align: center;"><i class="fas fa-cog"></i> Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var category in Model)
            {
                <tr>
                    <td style="padding: 20px;"><span class="admin-id-badge">#@category.Id</span></td>
                    <td style="padding: 20px; vertical-align: middle;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px;">
                            <i class="fas @category.IconClass"></i>
                        </div>
                    </td>
                    <td style="padding: 20px;"><strong style="color: #fff; font-size: 15px;">@category.Name</strong></td>
                    <td style="padding: 20px;"><span style="color: #a0a0a0;">@(category.Description ?? "No description")</span></td>
                    <td style="text-align: center; padding: 20px;">
                        <span class="admin-items-count" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);">
                            <i class="fas fa-cube"></i>
                            @category.Products.Count
                        </span>
                    </td>
                    <td style="padding: 20px;">
                        <div class="admin-action-group">
                            <a asp-action="Edit" asp-route-id="@category.Id" class="admin-action-btn admin-action-edit" title="Edit">
                                <i class="fas fa-edit"></i>
                            </a>
                            <form asp-action="Delete" asp-route-id="@category.Id" method="post" style="display: inline; margin: 0;" onsubmit="return confirm('Delete this category?');">
                                @Html.AntiForgeryToken()
                                <button type="submit" class="admin-action-btn admin-action-delete" title="Delete">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </form>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@if (!Model.Any())
{
    <div style="text-align: center; padding: 60px 20px; background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%); border-radius: 16px; border: 1px solid #2a2a3e;">
        <i class="fas fa-tags" style="font-size: 64px; color: #404040; margin-bottom: 20px;"></i>
        <p style="color: #808080; font-size: 18px; margin-bottom: 24px;">No categories yet</p>
        <a asp-action="Create" class="admin-btn" style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); color: #fff; padding: 14px 28px; border-radius: 12px; font-weight: 600;">
            <i class="fas fa-plus-circle"></i> Create First Category
        </a>
    </div>
}
